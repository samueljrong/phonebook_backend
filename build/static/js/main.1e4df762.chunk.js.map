{"version":3,"sources":["services/persons.js","components/PersonForm.js","components/PersonFilter.js","components/PersonsToShow.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","PersonForm","persons","setPersons","newName","setNewName","newNumber","setNewNumber","handleNameChange","handleNumberChange","setNotificationMessage","onSubmit","event","preventDefault","length","window","alert","existingPerson","find","element","name","trim","changedPerson","number","personService","returnedPerson","map","person","catch","error","filter","setTimeout","personObject","concat","console","log","JSON","stringify","value","onChange","type","PersonFilter","newSearch","handleSearchChange","Button","handleClick","text","onClick","Listing","PersonsToShow","filtered","toLocaleLowerCase","includes","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","setNewSearch","notificationMessage","useEffect","initialPersons","target","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1e4df762.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/people'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst personDelete = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then(response => response.data);\n}\n\nexport default { getAll, create, update, personDelete };","import React from 'react';\nimport personService from '../services/persons';\n\nconst PersonForm = ({ persons, setPersons, newName, setNewName,\n  newNumber, setNewNumber, handleNameChange, handleNumberChange,\n  setNotificationMessage }) => {\n\n  const addPerson = (event) => {\n    event.preventDefault();\n\n    if (newName.length < 3 || newNumber.length < 8) {\n      window.alert(\"Name must be at least 3 characters and number must be at least 8 characters\");\n      return;\n    }\n\n    const existingPerson = persons.find(element => element.name === newName.trim())\n\n    if (existingPerson) {\n      // window.alert(`${newName.trim()} is already added to the phonebook`);\n      const changedPerson = { ...existingPerson, number: newNumber }\n      personService\n        .update(changedPerson.id, changedPerson)\n        .then(returnedPerson => {\n          setPersons(persons.map(person => person.id !== existingPerson.id ? person : returnedPerson))\n          setNewName('');\n          setNewNumber('');\n          setNotificationMessage(`Updated ${changedPerson.name}`);\n          return returnedPerson\n        })\n        .catch(error => {\n          alert(\n            `The person '${existingPerson.name}' was already deleted from the server`\n          )\n          setPersons(persons.filter(person => person.id !== existingPerson.id))\n        })\n\n      setTimeout(() => { setNotificationMessage(null) }, 5000)\n      return;\n    }\n\n    const personObject = {\n      name: newName.trim(),\n      number: newNumber.trim()\n    }\n\n    personService\n      .create(personObject)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson));\n        setNewName('');\n        setNewNumber('');\n        setNotificationMessage(`Added ${personObject.name}`);\n      })\n      .catch(error => {\n        console.log(error.response.data);\n        alert(\n          `${JSON.stringify(error.response.data)}`\n        )\n      });\n\n    setTimeout(() => { setNotificationMessage(null) }, 5000)\n  }\n\n  return (\n    <form onSubmit={addPerson}>\n      <div>\n        Name: <input value={newName} onChange={handleNameChange} />\n      </div>\n      <div>\n        Number: <input value={newNumber} onChange={handleNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm","import React from 'react';\n\nconst PersonFilter = ({ newSearch, handleSearchChange }) => {\n  return (\n    <div>\n      Filter names containing <input value={newSearch} onChange={handleSearchChange} />\n    </div>\n  )\n}\n\nexport default PersonFilter","import React from 'react';\nimport personService from '../services/persons'\n\nconst Button = ({ handleClick, text }) =>\n  <button onClick={handleClick}>{text}</button>\n\nconst Listing = ({ name, number, handleClick }) => {\n  return (\n    <div>\n      {name} {number} <Button handleClick={handleClick} text=\"Delete\" />\n    </div>\n  );\n}\n\nconst PersonsToShow = ({ persons, setPersons, newSearch }) => {\n  const filtered = persons.filter(person =>\n    person.name.toLocaleLowerCase().includes(newSearch.toLocaleLowerCase()));\n\n  // An event handler is supposed to be either a function or a function reference\n  const handleDeleteClick = (id) => () => {\n    personService\n      .personDelete(id)\n      .then(() => {\n        setPersons(persons.filter(person => person.id !== id))\n      })\n  }\n  return (\n    <div>\n      {\n        filtered.map(person =>\n          <Listing key={person.id} name={person.name} number={person.number}\n            handleClick={handleDeleteClick(person.id)} />\n          // handleClick={\n          //   () => {\n          //   personService.personDelete(person.id);\n          //   setPersons(persons.filter(p => p.id !== person.id))\n          // }} />\n        )\n      }\n    </div>\n  );\n}\n\nexport default PersonsToShow;","import React from 'react'\n\nconst Notification = ({ message }) => {\n  const notificationStyle = {\n    color: 'green',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div style={notificationStyle}>\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react';\nimport PersonForm from './components/PersonForm';\nimport PersonFilter from './components/PersonFilter';\nimport PersonsToShow from './components/PersonsToShow';\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [newSearch, setNewSearch] = useState('');\n  const [notificationMessage, setNotificationMessage] = useState(null);\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  }\n\n  const handleSearchChange = (event) => {\n    setNewSearch(event.target.value);\n  }\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, []);\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notificationMessage} />\n      <PersonFilter\n        newSearch={newSearch}\n        handleSearchChange={handleSearchChange}\n      />\n      <PersonForm\n        persons={persons} setPersons={setPersons}\n        newName={newName} setNewName={setNewName}\n        newNumber={newNumber} setNewNumber={setNewNumber}\n        handleNameChange={handleNameChange} handleNumberChange={handleNumberChange}\n        setNotificationMessage={setNotificationMessage}\n      />\n      <h2>Numbers</h2>\n      <PersonsToShow persons={persons} setPersons={setPersons} newSearch={newSearch} />\n    </div>\n  );\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}